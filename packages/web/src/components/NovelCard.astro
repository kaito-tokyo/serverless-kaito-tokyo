---
import type { Novel } from "../interfaces/Novel.js";
import { getNovelBodyPreview } from "../lib/novel-processor.js";

interface Props {
  novel: Novel;
}

const { novel } = Astro.props;
---

<li>
  <a href={`/novel/${novel.slug}`}>
    <p>{novel.Date}</p>
    <p>{novel.Title}</p>
    <p class="body-preview">{getNovelBodyPreview(novel)}</p>
  </a>
</li>

<style>
  li {
    width: 200px;
    margin: 0;
    padding: 15px 0;
    background: hsla(0, 0%, 98%, 0.9);
    border: 2px solid black;
    border-radius: 20px;
  }

  li > a {
    display: block;
    text-decoration: none;
  }

  li p {
    margin: 5px 0;
    padding: 0 10px;
  }

  li p.body-preview {
    display: -webkit-box;
    overflow: hidden;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 7;
    color: var(--color-text);
    text-indent: 1em;
    text-overflow: ellipsis;
  }
</style>
