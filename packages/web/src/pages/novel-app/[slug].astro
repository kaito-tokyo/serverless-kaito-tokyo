---
import fetchApi from "../../lib/strapi.js";
import type { NovelApp } from "../../interfaces/NovelApp.js";
import Layout from "../../layouts/Layout.astro";

export async function getStaticPaths() {
  const novelApps = await fetchApi<NovelApp[]>({
    endpoint: "novel-apps",
    wrappedByKey: "data",
  });

  return novelApps.map((app) => ({
    params: { slug: app.slug },
    props: app,
  }));
}
type Props = NovelApp;

const app = Astro.props;
---

<html set:html={app.Html} />
